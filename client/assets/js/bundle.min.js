function sendToDify(e){fetch("http://localhost:3001/send-to-dify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inputs:{country:e.selectedCountry,main:e.selectedMain,dish:e.selectedMainDish},user:"user"})}).then((e=>{if(!e.ok)throw new Error("Difyé€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚");return e.json()})).then((e=>{const t=e.data.outputs.result;console.log("Difyã®è¿”ç­”",t);const n=`/result.html?ai=${encodeURIComponent(t)}`;document.getElementById("resultBox").innerHTML=`\n    v<br>\n    <a href="${n}" target="_blank" style="color: #2196f3; font-weight: bold;">\n      ğŸ¤– AIã®ææ¡ˆã‚’åˆ¥ãƒšãƒ¼ã‚¸ã§è¦‹ã‚‹\n    </a>\n    `})).catch((e=>{console.error("ã‚¨ãƒ©ãƒ¼",e)}))}document.addEventListener("DOMContentLoaded",(function(){let e={selectedCountry:null,selectedMain:null,selectedMainDish:null};function t(t,n,o,s){const l=document.getElementById(t),d=document.getElementById(n);let c=[];l.addEventListener("click",(function(){let t;c.length===o.length&&(c=[],console.log("å…¨ã¦è¡¨ç¤ºã•ã‚ŒãŸã®ã§ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã€‚"));do{t=Math.floor(Math.random()*o.length)}while(c.includes(t));c.push(t);const n=o[t];d.textContent=n,e[s]=n,function(){const t=Object.values(e);t.every((e=>null!==e))&&setTimeout((()=>{const t=`ä»Šæ—¥ã®ã”é£¯ã¯â€¦<br>\n          ğŸ½ï¸ <strong>ã‚¸ãƒ£ãƒ³ãƒ«ï¼š</strong>${e.selectedCountry}<br>\n          ğŸ <strong>ä¸»é£Ÿï¼š</strong>${e.selectedMain}<br>\n          ğŸ– <strong>ãƒ¡ã‚¤ãƒ³ï¼š</strong>${e.selectedMainDish}<br>\n          <button id="askAIButton">AIã«ãƒ¬ã‚·ãƒ”èã</button>`,n=document.getElementById("resultBox");n.innerHTML=t,n.classList.add("show");document.getElementById("askAIButton").addEventListener("click",(()=>{const t=`${e.selectedCountry}ã®æ–™ç†ã§ã€ä¸»é£Ÿã¯${e.selectedMain}ã€ãƒ¡ã‚¤ãƒ³ã¯${e.selectedMainDish}ã®ãƒ¬ã‚·ãƒ”ã‚’æ•™ãˆã¦`;sendToDify(e),alert("AIã«ãƒ¬ã‚·ãƒ”ã‚’èã„ã¦ã„ã¾ã™ã€‚:\n\n"+t)})),setTimeout((()=>{n.classList.remove("show"),n.innerHTML="",e={selectedCountry:null,selectedMain:null,selectedMainDish:null},document.getElementById("selectedCountry").textContent="",document.getElementById("selectedMain").textContent="",document.getElementById("selectedMainDish").textContent=""}),5e4)}),200)}()}))}document.getElementById("askAIButton").addEventListener("click",(function(){Object.values(e).every((e=>null!==e))?sendToDify(e):alert("å…¨ã¦ã®é …ç›®ã‚’é¸ã‚“ã§ã‹ã‚‰AIã«èã„ã¦ä¸‹ã•ã„")})),t("selectCountryButton","selectedCountry",["ä¸­è¯","ã‚¤ã‚¿ãƒªã‚¢ãƒ³","å’Œé£Ÿ","ã‚¢ãƒ¡ãƒªã‚«"],"selectedCountry"),t("selectMainButton","selectedMain",["ç™½ç±³","å’Œã‚ã‚“","ãƒ‘ã‚¹ã‚¿","ã±ã‚“"],"selectedMain"),t("selectMainDishButton","selectedMainDish",["é¶è‚‰","ç‰›è‚‰","è±šè‚‰","é­š","é­šä»‹ï¼ˆé­šä»¥å¤–"],"selectedMainDish")})),$(".dishImages1").slick({centerMode:!0,centerPadding:"60px",slidesToShow:3,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:3}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]});